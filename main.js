(()=>{"use strict";var e="",t=[{name:"Столовая Гора",link:e+"0b1c44f7aa1eff47da8a.jpg"},{name:"Мыс Доброй Надежды",link:e+"620a635e8bb1cde0ac55.jpg"},{name:"Пляж Пингвинов",link:e+"d71745b925f559655dae.jpg"},{name:"Лаки Потолс",link:e+"32e0191547efa06b60c8.jpg"},{name:"Парк Тситсикама",link:e+"0b08ba409dbf05908e4f.jpg"},{name:"Водопад Лиссабон",link:e+"4963f4a0dc4ac6a5e035.jpg"}],n=document.querySelectorAll(".popup"),o=document.querySelector(".popup_profile-edit"),r=document.forms.editProfile,a=document.forms.editAvatar,u=document.querySelector(".profile__edit-button"),c=document.querySelector(".profile__add-button"),i=(document.querySelector(".popup__save-button"),document.querySelector(".popup_card-add")),l=document.forms.addCard,p=document.querySelector(".element__list"),s=document.querySelector(".popup_card"),d=s.querySelector(".popup__image"),_=s.querySelector(".figure__image-caption"),m=r.elements.name,f=r.elements.occupation,v=a.elements.name,b=document.querySelector(".profile__name"),y=document.querySelector(".profile__description"),q=l.elements.name,S=l.elements.link,L=document.querySelector(".profile__image"),g=document.querySelector(".popup__avatar");function k(e,t){e.textContent=t}var C=function(e,t,n){var o=e.querySelector(".popup__input-".concat(t.name));t.classList.add("popup__input-field_error"),o.textContent=n,o.classList.add("popup__input-message_visible")},E=function(e,t){!function(e){return e.some((function(e){return 0===e.value.length||e.classList.contains("popup__input-field_error")}))}(e)?(t.classList.add("popup__save-button_active"),t.classList.remove("popup__save-button_disabled"),t.removeAttribute("disabled")):(t.classList.remove("popup__save-button_active"),t.classList.add("popup__save-button_disabled"),t.setAttribute("disabled",!0))},x=function(){Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".popup__input-field")),n=e.querySelector(".popup__save-button");E(t,n),t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){t.validity.patternMismatch?C(e,t,t.dataset.errorMessage):t.validity.valid?function(e,t){var n=e.querySelector(".popup__input-".concat(t.name));t.classList.remove("popup__input-field_error"),n.classList.remove("popup__input-message_visible")}(e,t):C(e,t,t.validationMessage)}(e,o),E(t,n)}))}))}(e)}))};function A(e){d.src=e.src,d.alt=e.alt,_.textContent=e.alt,h(s)}function h(e){e.classList.add("popup_opened")}function j(e){e.classList.remove("popup_opened")}function M(e,t,n){var o=document.querySelector("#element_add").content.querySelector(".element").cloneNode(!0),r=o.querySelector(".element__title"),a=o.querySelector(".element__image"),u=o.querySelector(".element__like-count"),c=o.querySelector(".element__like-button");return o.querySelector(".element__delete-button").addEventListener("click",(function(e){e.target.closest(".element").remove()})),c.addEventListener("click",(function(e){c.classList.contains("element__like-button_active")?(c.classList.remove("element__like-button_active"),u.textContent=Number(u.textContent)-1):(c.classList.add("element__like-button_active"),u.textContent=Number(u.textContent)+1)})),r.textContent=e,a.src=t,a.alt=e,a.addEventListener("click",(function(e){return A(e.target)})),u.textContent=n,o}n.forEach((function(e){e.addEventListener("click",(function(t){t.target.classList.contains("popup__close-button")&&j(e),t.target.classList.contains("popup")&&j(e)})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&j(e)})),e.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.querySelector(".popup__save-button");return function(e){e.textContent="Сохранение..."}(t),e.target.closest(".popup_card-add")?function(e){var t=M(q.value,S.value,0);p.prepend(t),k(e,"Создать"),j(i),l.reset(),x()}(t):e.target.closest(".popup__avatar")?function(e){k(e,"Сохранить"),L.style.backgroundImage="url(".concat(v.value),j(g),x()}(t):function(e){k(e,"Сохранить"),b.textContent=m.value,y.textContent=f.value,j(o),x()}(t)}))})),L.addEventListener("click",(function(e){h(g)})),u.addEventListener("click",(function(){m.value=b.textContent,f.value=y.textContent,h(o)})),c.addEventListener("click",(function(){return h(i)})),t.forEach((function(e){var t=M(e.name,e.link,0);p.append(t)})),x()})();